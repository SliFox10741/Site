<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Сокровищница дракона - Каталог</title>
    <link rel="stylesheet" href="../styles/catalog.css">
    <link rel="stylesheet" href="../styles/basket.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.13.1/underscore-min.js"></script>
</head>

<body>
    <header>
        <div class="logo"><a href="main.html">Сокровищница дракона</a></div>
        <nav class="main-menu">
            <ul>
                <div class="dropdown">
                <li><a href="#">Каталог</a></li>
                    <div class="dropdown-content">
                        <a href="#">Link 1</a>
                        <a href="#">Link 2</a>
                        <a href="#">Link 3</a>
                    </div>
                </div>
                <li><a href="delivery.html">Доставка</a></li>
                <li><a href="#reviews" class="menu-link">Отзывы</a></li>
                <li><a href="#about" class="menu-link">О нас</a></li>
                <li><a href="#footer" class="menu-link">Контакты</a></li>
            </ul>
        </nav>
        
        <div class="social-icons">
            <a href="#" button id="searchBtn"></button><img src="../images/search.png" alt="Search"></a>
            <a href="#"><img src="../images/tik-tok.png" alt="TikTok"></a>
            <a href="#"><img src="../images/vk_icon_135042.png" alt="VK"></a>
            <a href="#"><img src="../images/png-clipart-telegram-computer-icons-logo-android-angle-triangle-thumbnail.png" alt="Telegram"></a>
        </div>
    </header>
    

    <main>
        <!-- HTML разметка -->
        <div class="basket" id="cart">
            <div class="basket__container" id="basket_container">
                <div class="basket__item">
                    <h1 class="basket__title">Оформление заказа</h1>
                </div>
                <div class="basket__item" id="basket_product_list">
                    <script type="text/template" id="cart-template">
                        <% _.each(goods, function(item) { %>
                            <div class="js-cart-item" data-id="<%= item.id %>">
                                <span class="js-count"><%= item.count %></span> x 
                                <span><%= item.name %></span>
                                <span class="js-summa"><%= item.count * item.price %> руб.</span>
                                <button class="js-change-count" data-id="<%= item.id %>" data-delta="1">+</button>
                                <button class="js-change-count" data-id="<%= item.id %>" data-delta="-1">-</button>
                                <button class="js-remove-from-cart" data-id="<%= item.id %>">Удалить</button>
                            </div>
                        <% }); %>
                    </script>
                </div>
                <div class="basket__item">
                    <div class="basket__cost">
                        <h2 class="basket__cost-title">Итого</h2>
                        <output class="basket__cost-value" id="total-cart-summa">0</output> руб.
                    </div>
                </div>
                <button class="basket__close" id="basket_close">✖</button>
            </div>
        </div>

        <button class="cart_button" id="cart_button">
            <img class="cart_button__image" src="../images/cart.png" alt="Cart" />
            <div class="cart_button__num" id="cart_button_num">0</div>
        </button>

        <!-- <div class="basket" id="cart">
            <div class="basket__container">
                <div class="basket__item">
                    <h1 class="basket__title">Оформление заказа</h1>
                </div>
                <div class="basket__item" id="basket_product_list"></div>
                <div class="basket__item">
                    <div class="basket__cost">
                        <h2 class="basket__cost-title">Итого</h2>
                        <output class="basket__cost-value" id="total-cart-summa">0</output> руб.
                    </div>
                </div>
                <button class="basket__close" id="basket_close">✖</button>
            </div>
        </div>

        <button class="cart_button" id="cart_button">
            <img class="cart_button__image" src="cart.png" alt="Cart" />
            <div class="cart_button__num" id="cart_button_num">0</div>
        </button> -->


        <section class="catalog-section">
            <aside class="filters">
                <h3>Фильтры</h3>
                <form>
                    <div class="filter-group">
                        <h4>Категории</h4>
                        <label><input type="checkbox"> Держатели и разделители</label><br>
                        <label><input type="checkbox"> Открытки</label><br>
                        <label><input type="checkbox"> Закладки</label><br>
                        <label><input type="checkbox"> Фигурки</label><br>
                        <label><input type="checkbox"> Подарочные наборы</label><br>
                        <label><input type="checkbox"> Вязаные изделия</label><br>
                    </div>

                    <div class="filter-group">
                        <h4>Теги</h4>
                        <label><input type="checkbox"> Игра престолов</label><br>
                        <label><input type="checkbox"> Гарри Поттер</label><br>
                        <label><input type="checkbox"> Властелин колец</label><br>
                        <label><input type="checkbox"> Драконы</label><br>
                    </div>

                    <button type="submit" class="filter-button">Применить фильтры</button>
                </form>
            </aside>

            <section class="catalog-items">
                <h2>Каталог товаров</h2>

                <div class="monthly-offers">
                    <h3>Товары месяца со скидкой</h3>
                    <div class="product-grid">
                        <div class="product-item">
                            <img src="images/product1.jpg" alt="Product 1">
                            <h4>Фигурка дракона</h4>
                            <p class="price">1200 руб <span class="discount">1000 руб</span></p>
                        </div>
                        <div class="product-item">
                            <img src="images/product2.jpg" alt="Product 2">
                            <h4>Закладка с драконами</h4>
                            <p class="price">500 руб <span class="discount">400 руб</span></p>
                        </div>
                    </div>
                </div>

                <h3>Все товары</h3>
                <div class="product-grid" id="product-list"> <!-- Добавлен элемент с id product-list -->
                    <script>
                        document.addEventListener('DOMContentLoaded', function () {
                            loadProducts(10, 0, '');
                        });
                    </script>
                </div>

            </section>
        </section>
    </main>

    <footer>
        <div class="footer-content">
            <h2>Сокровищница дракона</h2>
            <p>Контакты: sokrovischnica@dragon.com</p>
            <p>© 2024 Все права защищены.</p>
        </div>
    </footer>



    <script src="../scripts/cart.js"></script>
    <script src="../scripts/catalog.js"></script>
    <!-- <script src="../scripts/catalog.js"></script> -->
    <!-- <script src="../scripts/basket.js"></script> -->
</body>

</html>